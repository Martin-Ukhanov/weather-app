(()=>{"use strict";const t=(()=>{let t,e,n,o;return{setWeather:async a=>{try{const c=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${a}&units=metric&appid=e8bacfd32e9398972f090cbb6a4c50a2`,{mode:"cors"});if(!c.ok)throw new Error(`City ${a} not found.`);const s=await c.json();t=s.name,e=Math.round(s.main.temp),n=s.weather[0].description,o=s.weather[0].icon}catch(t){alert(t)}},getCity:()=>t,getTempC:()=>e,getTempF:()=>Math.round(1.8*e+32),getDesc:()=>n,getIcon:()=>o}})(),e=document.querySelector("form"),n=document.getElementById("theme-btn"),o=document.getElementById("temp-type-btn");let a="°C";const c=()=>{const e=document.getElementById("city"),n=document.getElementById("temp"),o=document.getElementById("desc"),c=document.getElementById("icon");e.textContent=t.getCity(),n.textContent="°C"===a?t.getTempC()+" °C":t.getTempF()+" °F",o.textContent=function(t){let e=t.toLowerCase().split(" ");for(let t=0;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].substring(1);return e.join(" ")}(t.getDesc()),c.src=`http://openweathermap.org/img/wn/${t.getIcon()}@2x.png`};e.addEventListener("submit",(async n=>{const o=document.getElementById("city-input").value;n.preventDefault(),await t.setWeather(o),c(),e.reset()})),o.addEventListener("click",(()=>{a="°C"===a?"°F":"°C",o.textContent=a,c()})),n.addEventListener("click",(()=>{const t=document.querySelector(":root");t.classList.contains("light")?(t.classList.remove("light"),t.classList.add("dark"),n.textContent="dark_mode"):(t.classList.remove("dark"),t.classList.add("light"),n.textContent="light_mode")})),e.reset(),(async()=>{await t.setWeather("Waterloo"),c()})()})();